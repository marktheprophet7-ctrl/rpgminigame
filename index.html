<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mini RPG</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="title">Mini RPG</div>

      <div class="buttons">
        <button id="btnNew" title="Start a new game">New</button>
        <button id="btnSave" title="Save to this browser">Save</button>
        <button id="btnLoad" title="Load from this browser">Load</button>
        <button id="btnHelp" title="Controls & info">Help</button>
      </div>
    </header>

    <main class="layout">
      <section class="panel">
        <canvas id="game" width="640" height="384" aria-label="Game canvas"></canvas>

        <div class="hint">
          Move: <kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd> / Arrows • Interact:
          <kbd>E</kbd> • Inventory: <kbd>I</kbd> • Toggle log: <kbd>L</kbd>
        </div>
      </section>

      <aside class="hud">
        <div class="card">
          <h2>Hero</h2>
          <div id="heroStats" class="mono"></div>
        </div>

        <div class="card">
          <h2>Area</h2>
          <div id="areaInfo" class="mono"></div>
        </div>

        <div class="card">
          <h2>Inventory</h2>
          <div id="inventory" class="mono"></div>
          <div class="small">Tip: In battle, you can use potions via Heal.</div>
        </div>

        <div class="card">
          <h2>Combat</h2>
          <div id="combatBox" class="mono">No combat.</div>
          <div id="combatActions" class="actions hidden">
            <button data-act="attack">Attack</button>
            <button data-act="defend">Defend</button>
            <button data-act="heal">Heal</button>
            <button data-act="run">Run</button>
          </div>
        </div>

        <div class="card logCard" id="logCard">
          <h2>Log</h2>
          <div id="log" class="log mono"></div>
        </div>
      </aside>
    </main>

    <dialog id="helpDialog">
      <h2>How to play</h2>
      <ul>
        <li>Explore the map. Stepping on tall grass can trigger random encounters.</li>
        <li>Find chests for potions and gold.</li>
        <li>Fight monsters in turn-based combat.</li>
        <li>Level up to increase HP, Attack, and Defense.</li>
        <li>Save/Load works in this browser (LocalStorage).</li>
      </ul>
      <p class="small">
        Dev tip: open the console to see extra debug messages and tweak values in <code>game.js</code>.
      </p>
      <form method="dialog">
        <button>Close</button>
      </form>
    </dialog>

    <script src="./game.js"></script>
  </body>
</html>
